<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="'Post Details - ' + ${post.title}"></title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="/">Blog App</a>
		</div>
	</nav>

	<!-- Post Details Section -->
	<div class="container mt-5">
		<h1 th:text="${post.title}"></h1>
		<p class="text-muted" th:text="'Created on: ' + ${post.createdDate}"></p>
		<hr>
		<p th:text="${post.content}"></p>
		<div class="mt-4">
			<a href="/" class="btn btn-secondary">Back to Home</a>
		</div>
	</div>
	<!-- Display Comments -->
	<div class="container mt-5">
		<h3>Comments</h3>

		<div th:if="${comments.size() == 0}">
			<p>No comments yet. Be the first to comment!</p>
		</div>

		<ul class="list-group" th:each="comment : ${comments}">
			<li class="list-group-item"><strong th:text="${comment.name}"></strong>
				<span class="text-muted" th:text="' (' + ${comment.email} + ')'"></span>
				<p th:text="${comment.content}"></p> <small class="text-muted"
				th:text="${comment.createdDate}"></small></li>
		</ul>

		<!-- Add Comment Section -->
		<div class="mt-4">
			<h4>Add a Comment</h4>
			<form th:action="@{/posts/{id}/add-comment(id=${post.postId})}"
				method="post">
				<div class="mb-3">
					<label for="name" class="form-label">Your Name</label> <input
						type="text" id="name" name="name" class="form-control" required>
				</div>
				<div class="mb-3">
					<label for="email" class="form-label">Your Email</label> <input
						type="email" id="email" name="email" class="form-control" required>
				</div>
				<div class="mb-3">
					<label for="content" class="form-label">Your Comment</label>
					<textarea id="content" name="content" class="form-control" rows="4"
						required></textarea>
				</div>
				<button type="submit" class="btn btn-primary">Post Comment</button>
			</form>
		</div>
		  <div class="mt-3">
            <a href="/comments" class="btn btn-info">View All Comments</a>
        </div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
